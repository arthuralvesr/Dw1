<!doctype html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Formulario contato | DW1</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

    <link rel="stylesheet" href="style.css">
</head>

<body>

    <nav class="navbar bg-primary">
        <div class="container d-flex justify-content-center">
            <svg width="64px" height="64px" viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>contact-details</title> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="icon" fill="#ffffff" transform="translate(42.666667, 85.333333)"> <path d="M426.666667,1.42108547e-14 L426.666667,341.333333 L3.55271368e-14,341.333333 L3.55271368e-14,1.42108547e-14 L426.666667,1.42108547e-14 Z M384,42.6666667 L42.6666667,42.6666667 L42.6666667,298.666667 L384,298.666667 L384,42.6666667 Z M341.333333,213.333333 L341.333333,245.333333 L234.666667,245.333333 L234.666667,213.333333 L341.333333,213.333333 Z M146.666667,155.733333 C177.493333,155.733333 202.666667,181.333333 202.666667,213.333333 L74.6666667,213.333333 C74.6666667,181.333333 99.7387207,155.733333 130.666667,155.733333 L146.666667,155.733333 Z M341.333333,149.333333 L341.333333,181.333333 L234.666667,181.333333 L234.666667,149.333333 L341.333333,149.333333 Z M138.666667,78.62624 C154.13064,78.62624 166.666667,91.162267 166.666667,106.62624 C166.666667,122.090213 154.13064,134.62624 138.666667,134.62624 C123.202694,134.62624 110.666667,122.090213 110.666667,106.62624 C110.666667,91.162267 123.202694,78.62624 138.666667,78.62624 Z M341.333333,85.3333333 L341.333333,117.333333 L234.666667,117.333333 L234.666667,85.3333333 L341.333333,85.3333333 Z" id="Combined-Shape"> </path> </g> </g> </g></svg>
        </div>
        </nav>

    <div class="container mt-5">

        <form class="row g-2">
            <h3>Dados pessoais:</h3>

            <div class="form-floating mb-12 col-md-3">
                <input type="text" class="form-control" id="nameInput" placeholder="Nome Sobrenome">
                <label for="nameInput">Nome</label>
            </div>

            <div class="form-floating mb-12 col-md-3">
                <input type="email" class="form-control" id="emailInput" placeholder="name@example.com">
                <label for="emailInput">Endereço de email</label>
            </div>

            <div class="form-floating mb-12 col-md-2">
                <input type="date" class="form-control" id="dateInput" placeholder="">
                <label for="dateInput">Data de nascimento</label>
            </div>
            <div class="form-floating mb-12 col-md-2">
                <input type="tel" class="form-control" id="celInput" placeholder="00 00000-0000">
                <label for="celInput">Celular</label>
            </div>
            <div class="form-floating mb-12 col-md-2">
                <input type="tel" class="form-control" id="telInput" placeholder="00 0000-0000">
                <label for="telInput">Telefone</label>
            </div>

            <h3 class="mt-5">Endereço:</h3>

            <div class="form-floating mb-12 col-md-2">
                <input type="text" class="form-control" id="cepInput" placeholder="Cep"
                    maxlength="9" onblur="pesquisacep(this.value);">
                <label for="cepInput">CEP</label>
            </div>

            <div class="form-floating mb-12 col-md-6">
                <input type="text" class="form-control" id="logInput" placeholder="Rua">
                <label for="logInput">Logradouro</label>
            </div>

            <div class="form-floating mb-12 col-md-2">
                <input type="text" class="form-control" id="bairroInput" placeholder="Rua">
                <label for="bairroInput">Bairro</label>
            </div>
            <div class="form-floating mb-12 col-md-2">
                <input type="number" class="form-control" id="numInput" placeholder="Número">
                <label for="numInput">Número</label>
            </div>
            <div class="form-floating mb-12 col-md-6">
                <input type="text" class="form-control" id="compInput" placeholder="Complemento">
                <label for="compInput">Complemento</label>
            </div>

            <div class="form-floating mb-12 col-md-3">
                <input type="text" class="form-control" id="cidInput" placeholder="Cidade">
                <label for="cidInput">Cidade</label>
            </div>
            <div class="form-floating col-md-3">
                <select class="form-select" id="ufInput" aria-label="Floating label select example">
                    <option disabled selected>Selecione um estado</option>
                    <option value="AC">Acre</option>
                    <option value="AL">Alagoas</option>
                    <option value="AP">Amapá</option>
                    <option value="AM">Amazonas</option>
                    <option value="BA">Bahia</option>
                    <option value="CE">Ceará</option>
                    <option value="DF">Distrito Federal</option>
                    <option value="ES">Espírito Santo</option>
                    <option value="GO">Goiás</option>
                    <option value="MA">Maranhão</option>
                    <option value="MT">Mato Grosso</option>
                    <option value="MS">Mato Grosso do Sul</option>
                    <option value="MG">Minas Gerais</option>
                    <option value="PA">Pará</option>
                    <option value="PB">Paraíba</option>
                    <option value="PR">Paraná</option>
                    <option value="PE">Pernambuco</option>
                    <option value="PI">Piauí</option>
                    <option value="RJ">Rio de Janeiro</option>
                    <option value="RN">Rio Grande do Norte</option>
                    <option value="RS">Rio Grande do Sul</option>
                    <option value="RO">Rondônia</option>
                    <option value="RR">Roraima</option>
                    <option value="SC">Santa Catarina</option>
                    <option value="SP">São Paulo</option>
                    <option value="SE">Sergipe</option>
                    <option value="TO">Tocantins</option>
                </select>
                <label for="floatingSelect">UF</label>
            </div>

            <div class="form-floating mt-5">
                <textarea class="form-control" placeholder="Comentario" id="comentInput" style="height: 100px"></textarea>
                <label for="comentInput">Comentário</label>
            </div>

            <button type="submit" class="btn btn-primary mt-3">Enviar</button>


            <script src="https://unpkg.com/imask"></script>

            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
                crossorigin="anonymous">
            </script>

            <script>
                const cepMask = IMask(
                    document.getElementById('cepInput'),
                    { mask: '00000-000' } );

                const telMask = IMask(
                    document.getElementById('telInput'),
                    { mask: '(00) 0000-0000' } );

                const celMask = IMask(
                    document.getElementById('celInput'),
                    { mask: '(00) 00000-0000' }
                );

                function pesquisacep(valor) {

                    var cep = valor.replace(/\D/g, '');

                    if (cep != "") {
                        var validacep = /^[0-9]{8}$/;

                        if (validacep.test(cep)) {

                            document.getElementById('logInput').value = "...";
                            document.getElementById('bairroInput').value = "...";
                            document.getElementById('cidInput').value = "...";
                            document.getElementById('ufInput').value = "...";


                            var script = document.createElement('script');
                            script.src = 'https://viacep.com.br/ws/' + cep + '/json/?callback=meu_callback';
                            document.body.appendChild(script);

                        } else {
                            limpa_formulário_cep();
                            alert("Formato de CEP inválido.");
                        }
                    }
                    else {
                        limpa_formulário_cep();
                    }
                };

                function meu_callback(conteudo) {
                    if (!("erro" in conteudo)) {
                        document.getElementById('logInput').value = (conteudo.logradouro);
                        document.getElementById('bairroInput').value = (conteudo.bairro);
                        document.getElementById('cidInput').value = (conteudo.localidade);
                        document.getElementById('ufInput').value = (conteudo.uf);

                        buscarClima(conteudo.localidade, conteudo.uf);
                    }
                    else {
                        limpa_formulário_cep();
                        alert("CEP não encontrado.");
                    }
                }

                function limpa_formulário_cep() {
                    document.getElementById('logInput').value = "";
                    document.getElementById('bairroInput').value = "";
                    document.getElementById('cidInput').value = "";
                    document.getElementById('ufInput').value = "";
                }
            </script>
</body>

</html>